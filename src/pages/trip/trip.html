<!--
  Generated template for the TripPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Trip</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-item no-lines>
    <div class="trip-name">{{trip.name}}</div>
    <div class="date">{{trip.createdDate}} - {{storyList[0].createdDate}}</div>
  </ion-item>

  <ion-segment [(ngModel)]="selectedSegment" padding-left="1px" padding-right="1px">
    <ion-segment-button value="stories">
      Stories ({{storyCount}})
    </ion-segment-button>
    <ion-segment-button value="photos">
      Photos ({{photoCount}})
    </ion-segment-button>
  </ion-segment>

  <div [ngSwitch]="selectedSegment" class="content-background">

    <div *ngSwitchCase="'stories'">

      <ion-card *ngFor="let story of storyList" background-color="light" (click)="navToStory()">
        <ion-item class="story-name">{{story.name}}</ion-item>
        <img height="100" src="assets/imgs/map-example.png">
        <ion-item *ngIf="story.description" class="story-description">{{story.description}}</ion-item>
        <ion-item>
          <div class="info" item-start>{{story.pinCount}} pins</div>
          <div class="info" item-start>{{story.photoCount}} photos</div>
          <button ion-button outline small item-end>Edit</button>
        </ion-item>
      </ion-card>

    </div>

    <div *ngSwitchCase="'photos'">

      <ion-card *ngFor="let media of mediaList" background-color="light">
        
        <img src="assets/imgs/map-example.png">
        <ion-item *ngIf="media.name" class="media-name">{{media.name}}</ion-item>
        <ion-item class="info">Address: {{media.address}}</ion-item>
        <ion-item>
          <div class="date">created on {{media.createdDate}}</div>
          <button ion-button clear small item-end>Edit</button>
        </ion-item>

      </ion-card>
    </div>

  </div>

</ion-content>